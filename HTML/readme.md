# HTML

  - [1. script 标签里 `async` 和 `defer` 属性的作用与区别。](#1-script-标签里-async-和-defer-属性的作用与区别)

## 1. script 标签里 `async` 和 `defer` 属性的作用与区别。

1. 未设置 `async` 或 `defer` 时，浏览器会暂停解析后续 document，立即加载并执行该脚本文件。
2. async 属性：浏览器将异步的加载脚本，不会阻塞解析后续 document。但一旦加载完成脚本便会立即执行，如果此时 document 未解析完成，此时同样会阻塞后续 document 的解析。
3. defer 属性：同 async 一样，会异步的加载脚本。区别是，当加载完成时，不会立即执行，将等待这个 document 完全解析完成后，再执行。并且如果有多个设置了 defer 属性的 script 标签时，将按照标签顺序来执行脚本。
4. 总结：
   |       | 是否阻塞 HTML 解析                       | 脚本运行顺序             |
   | ----- | ---------------------------------------- | ------------------------ |
   | 默认  | 是                                       | 文档顺序                 |
   | async | 是（加载脚本不阻塞，运行脚本有概率阻塞） | 不确定，谁先加载完运行谁 |
   | defer | 否                                       | 文档顺序                 |

**扩展：** Chrome 浏览器中对外部资源的加载有一定的优化，会在解析 document 之前，判断是否有引用外部资源。如果有，将直接加载外部资源。所以，在 Chrome 浏览器中脚本的加载不会阻塞 document 的解析。
